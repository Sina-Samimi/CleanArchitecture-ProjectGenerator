<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª - Ø¹Ø·Ø§Ø±ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Header -->
    <header>
        <nav>
            <div class="logo">Ø¹Ø·Ø§Ø±ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†</div>
            <ul class="nav-links">
                <li><a href="index.html">Ø®Ø§Ù†Ù‡</a></li>
                <li><a href="products-archive.html">Ù…Ø­ØµÙˆÙ„Ø§Øª</a></li>
                <li><a href="index.html#blog">ÙˆØ¨Ù„Ø§Ú¯</a></li>
                <li><a href="index.html#about">Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</a></li>
                <li><a href="index.html#contact">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</a></li>
            </ul>
        </nav>
    </header>

    <!-- Products Archive Section -->
    <section class="products-archive-section">
        <div class="container">
            <!-- Breadcrumb -->
            <div class="breadcrumb">
                <a href="index.html">Ø®Ø§Ù†Ù‡</a> / 
                <span>Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª</span>
            </div>

            <!-- Page Header -->
            <div class="archive-header">
                <h1 class="archive-title">Ù„ÛŒØ³Øª Ù…Ø­ØµÙˆÙ„Ø§Øª</h1>
                <p class="archive-subtitle">ØªÙ…Ø§Ù… Ù…Ø­ØµÙˆÙ„Ø§Øª Ú¯ÛŒØ§Ù‡Ø§Ù† Ø¯Ø§Ø±ÙˆÛŒÛŒ Ùˆ Ø·Ø¨ÛŒØ¹ÛŒ</p>
            </div>

            <div class="archive-layout">
                <!-- Sidebar Filters -->
                <aside class="filters-sidebar">
                    <div class="filters-card">
                        <h3 class="filters-title">ğŸ” Ø¬Ø³ØªØ¬Ùˆ</h3>
                        <div class="search-filter">
                            <input type="text" id="search-input" placeholder="Ø¬Ø³ØªØ¬Ùˆ Ø¯Ø± Ù…Ø­ØµÙˆÙ„Ø§Øª..." class="search-input">
                            <button class="search-btn" onclick="performSearch()">ğŸ”</button>
                        </div>
                    </div>

                    <div class="filters-card">
                        <h3 class="filters-title">ğŸ“‚ Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒ</h3>
                        <div class="filter-group">
                            <label class="filter-checkbox">
                                <input type="checkbox" value="all" checked onchange="filterProducts()">
                                <span>Ù‡Ù…Ù‡ Ù…Ø­ØµÙˆÙ„Ø§Øª</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" value="herbs" onchange="filterProducts()">
                                <span>Ú¯ÛŒØ§Ù‡Ø§Ù† Ø¯Ø§Ø±ÙˆÛŒÛŒ</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" value="tea" onchange="filterProducts()">
                                <span>Ú†Ø§ÛŒ Ùˆ Ø¯Ù…Ù†ÙˆØ´</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" value="honey" onchange="filterProducts()">
                                <span>Ø¹Ø³Ù„ Ùˆ Ù…Ø­ØµÙˆÙ„Ø§Øª Ø²Ù†Ø¨ÙˆØ±</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" value="spices" onchange="filterProducts()">
                                <span>Ø§Ø¯ÙˆÛŒÙ‡â€ŒØ¬Ø§Øª</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" value="oils" onchange="filterProducts()">
                                <span>Ø±ÙˆØºÙ†â€ŒÙ‡Ø§ÛŒ Ø·Ø¨ÛŒØ¹ÛŒ</span>
                            </label>
                        </div>
                    </div>

                    <div class="filters-card">
                        <h3 class="filters-title">ğŸ’° Ù…Ø­Ø¯ÙˆØ¯Ù‡ Ù‚ÛŒÙ…Øª</h3>
                        <div class="price-filter">
                            <div class="price-inputs" style="display:grid !important">
                                <input type="number" id="min-price" placeholder="Ø­Ø¯Ø§Ù‚Ù„" min="0" onchange="filterProducts()">
                                <input type="number" id="max-price" placeholder="Ø­Ø¯Ø§Ú©Ø«Ø±" min="0" onchange="filterProducts()">
                            </div>
                            <button class="apply-price-btn" onclick="filterProducts()">Ø§Ø¹Ù…Ø§Ù„</button>
                        </div>
                    </div>

                    <div class="filters-card">
                        <h3 class="filters-title">â­ Ø§Ù…ØªÛŒØ§Ø²</h3>
                        <div class="filter-group">
                            <label class="filter-checkbox">
                                <input type="radio" name="rating" value="all" checked onchange="filterProducts()">
                                <span>Ù‡Ù…Ù‡</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="radio" name="rating" value="5" onchange="filterProducts()">
                                <span>â­â­â­â­â­ (Ûµ Ø³ØªØ§Ø±Ù‡)</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="radio" name="rating" value="4" onchange="filterProducts()">
                                <span>â­â­â­â­ (Û´ Ø³ØªØ§Ø±Ù‡ Ø¨Ù‡ Ø¨Ø§Ù„Ø§)</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="radio" name="rating" value="3" onchange="filterProducts()">
                                <span>â­â­â­ (Û³ Ø³ØªØ§Ø±Ù‡ Ø¨Ù‡ Ø¨Ø§Ù„Ø§)</span>
                            </label>
                        </div>
                    </div>

                    <div class="filters-card">
                        <button class="reset-filters-btn" onclick="resetFilters()">ğŸ”„ Ø¨Ø§Ø²Ù†Ø´Ø§Ù†ÛŒ ÙÛŒÙ„ØªØ±Ù‡Ø§</button>
                    </div>
                </aside>

                <!-- Main Content -->
                <main class="archive-main">
                    <!-- Sort and View Options -->
                    <div class="archive-toolbar">
                        <div class="results-info">
                            <span id="results-count">Û²Û´ Ù…Ø­ØµÙˆÙ„ ÛŒØ§ÙØª Ø´Ø¯</span>
                        </div>
                        <div class="sort-options">
                            <label>Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ:</label>
                            <select id="sort-select" onchange="sortProducts()" class="sort-select">
                                <option value="default">Ù¾ÛŒØ´â€ŒÙØ±Ø¶</option>
                                <option value="price-low">Ù‚ÛŒÙ…Øª: Ú©Ù… Ø¨Ù‡ Ø²ÛŒØ§Ø¯</option>
                                <option value="price-high">Ù‚ÛŒÙ…Øª: Ø²ÛŒØ§Ø¯ Ø¨Ù‡ Ú©Ù…</option>
                                <option value="name">Ù†Ø§Ù…: Ø§Ù„ÙØ¨Ø§ÛŒÛŒ</option>
                                <option value="newest">Ø¬Ø¯ÛŒØ¯ØªØ±ÛŒÙ†</option>
                                <option value="popular">Ù…Ø­Ø¨ÙˆØ¨â€ŒØªØ±ÛŒÙ†</option>
                            </select>
                        </div>
                    </div>

                    <!-- Products Grid -->
                    <div class="archive-products-grid" id="products-grid">
                        <!-- Products will be loaded here by JavaScript -->
                    </div>

                    <!-- Pagination -->
                    <div class="pagination-container">
                        <div class="pagination" id="pagination">
                            <!-- Pagination will be generated by JavaScript -->
                        </div>
                    </div>
                </main>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="footer-content">
            <p>&copy; Û±Û´Û°Û³ Ø¹Ø·Ø§Ø±ÛŒ Ø¢Ù†Ù„Ø§ÛŒÙ†. ØªÙ…Ø§Ù… Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸ Ø§Ø³Øª.</p>
            <div class="social-links">
                <a href="#">ğŸ“±</a>
                <a href="#">ğŸ“§</a>
                <a href="#">ğŸ’¬</a>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Products Data
        const allProducts = [
            { id: 1, name: "Ø²Ø¹ÙØ±Ø§Ù† Ø§ØµÙ„", category: "spices", price: 250000, rating: 5, image: "ğŸŒ¿", description: "Ø²Ø¹ÙØ±Ø§Ù† Ø¯Ø±Ø¬Ù‡ ÛŒÚ© Ù‚Ø§Ø¦Ù†Ø§Øª - Ø¨Ø³ØªÙ‡ Ûµ Ú¯Ø±Ù…ÛŒ", new: true },
            { id: 2, name: "Ú¯Ù„ Ú¯Ø§ÙˆØ²Ø¨Ø§Ù†", category: "herbs", price: 85000, rating: 4, image: "ğŸŒº", description: "Ú¯Ù„ Ú¯Ø§ÙˆØ²Ø¨Ø§Ù† Ø®Ø´Ú© Ø´Ø¯Ù‡ - Ø¨Ø³ØªÙ‡ Û±Û°Û° Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 3, name: "Ú†Ø§ÛŒ Ø³Ø¨Ø²", category: "tea", price: 120000, rating: 5, image: "ğŸƒ", description: "Ú†Ø§ÛŒ Ø³Ø¨Ø² Ø¨Ø§ Ú©ÛŒÙÛŒØª - Ø¨Ø³ØªÙ‡ Û²Û°Û° Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 4, name: "Ø¹Ø³Ù„ Ø·Ø¨ÛŒØ¹ÛŒ", category: "honey", price: 350000, rating: 5, image: "ğŸŒ°", description: "Ø¹Ø³Ù„ Ú©ÙˆÙ‡Ø³ØªØ§Ù† Ø®Ø§Ù„Øµ - Ø´ÛŒØ´Ù‡ Û± Ú©ÛŒÙ„ÙˆÛŒÛŒ", new: true },
            { id: 5, name: "Ø¨Ø§Ø¨ÙˆÙ†Ù‡", category: "herbs", price: 75000, rating: 4, image: "ğŸŒ¼", description: "Ú¯Ù„ Ø¨Ø§Ø¨ÙˆÙ†Ù‡ Ø®Ø´Ú© - Ø¨Ø³ØªÙ‡ Û±Û°Û° Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 6, name: "Ù†Ø¹Ù†Ø§Ø¹ ÙÙ„ÙÙ„ÛŒ", category: "herbs", price: 65000, rating: 4, image: "ğŸŒ¿", description: "Ø¨Ø±Ú¯ Ù†Ø¹Ù†Ø§Ø¹ ÙÙ„ÙÙ„ÛŒ Ø®Ø´Ú© - Ø¨Ø³ØªÙ‡ Û±Û°Û° Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 7, name: "Ø¢ÙˆÛŒØ´Ù†", category: "herbs", price: 95000, rating: 5, image: "ğŸŒ¿", description: "Ø¢ÙˆÛŒØ´Ù† Ú©ÙˆÙ‡ÛŒ - Ø¨Ø³ØªÙ‡ Û±Û°Û° Ú¯Ø±Ù…ÛŒ", new: true },
            { id: 8, name: "Ú†Ø§ÛŒ Ø³ÛŒØ§Ù‡", category: "tea", price: 110000, rating: 4, image: "ğŸƒ", description: "Ú†Ø§ÛŒ Ø³ÛŒØ§Ù‡ Ù…Ù…ØªØ§Ø² - Ø¨Ø³ØªÙ‡ ÛµÛ°Û° Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 9, name: "Ø¹Ø³Ù„ Ú¯ÙˆÙ†", category: "honey", price: 320000, rating: 5, image: "ğŸŒ°", description: "Ø¹Ø³Ù„ Ú¯ÙˆÙ† Ø·Ø¨ÛŒØ¹ÛŒ - Ø´ÛŒØ´Ù‡ Û± Ú©ÛŒÙ„ÙˆÛŒÛŒ", new: false },
            { id: 10, name: "Ø²Ù†Ø¬Ø¨ÛŒÙ„", category: "spices", price: 180000, rating: 4, image: "ğŸŒ¿", description: "Ø²Ù†Ø¬Ø¨ÛŒÙ„ ØªØ§Ø²Ù‡ - Ø¨Ø³ØªÙ‡ Û²Û°Û° Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 11, name: "Ø¯Ø§Ø±Ú†ÛŒÙ†", category: "spices", price: 140000, rating: 5, image: "ğŸŒ¿", description: "Ø¯Ø§Ø±Ú†ÛŒÙ† Ø³ÛŒÙ„Ø§Ù† - Ø¨Ø³ØªÙ‡ Û±Û°Û° Ú¯Ø±Ù…ÛŒ", new: true },
            { id: 12, name: "Ù‡Ù„ Ø³Ø¨Ø²", category: "spices", price: 220000, rating: 4, image: "ğŸŒ¿", description: "Ù‡Ù„ Ø³Ø¨Ø² Ø¯Ø±Ø¬Ù‡ ÛŒÚ© - Ø¨Ø³ØªÙ‡ ÛµÛ° Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 13, name: "Ø±ÙˆØºÙ† Ø²ÛŒØªÙˆÙ†", category: "oils", price: 280000, rating: 5, image: "ğŸ«’", description: "Ø±ÙˆØºÙ† Ø²ÛŒØªÙˆÙ† Ø¨Ú©Ø± - Ø¨Ø·Ø±ÛŒ ÛµÛ°Û° Ù…ÛŒÙ„ÛŒ", new: true },
            { id: 14, name: "Ø±ÙˆØºÙ† Ú©Ù†Ø¬Ø¯", category: "oils", price: 190000, rating: 4, image: "ğŸ«’", description: "Ø±ÙˆØºÙ† Ú©Ù†Ø¬Ø¯ Ø®Ø§Ù„Øµ - Ø¨Ø·Ø±ÛŒ ÛµÛ°Û° Ù…ÛŒÙ„ÛŒ", new: false },
            { id: 15, name: "Ú†Ø§ÛŒ ØªØ±Ø´", category: "tea", price: 95000, rating: 4, image: "ğŸƒ", description: "Ú†Ø§ÛŒ ØªØ±Ø´ Ù‚Ø±Ù…Ø² - Ø¨Ø³ØªÙ‡ Û±Û°Û° Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 16, name: "Ú¯Ù„ Ù…Ø­Ù…Ø¯ÛŒ", category: "herbs", price: 150000, rating: 5, image: "ğŸŒ¹", description: "Ú¯Ù„ Ù…Ø­Ù…Ø¯ÛŒ Ø®Ø´Ú© - Ø¨Ø³ØªÙ‡ Û±Û°Û° Ú¯Ø±Ù…ÛŒ", new: true },
            { id: 17, name: "Ù…Ø±ÛŒÙ…â€ŒÚ¯Ù„ÛŒ", category: "herbs", price: 88000, rating: 4, image: "ğŸŒ¿", description: "Ù…Ø±ÛŒÙ…â€ŒÚ¯Ù„ÛŒ Ø®Ø´Ú© - Ø¨Ø³ØªÙ‡ Û±Û°Û° Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 18, name: "Ø±Ø²Ù…Ø§Ø±ÛŒ", category: "herbs", price: 92000, rating: 4, image: "ğŸŒ¿", description: "Ø±Ø²Ù…Ø§Ø±ÛŒ Ø®Ø´Ú© - Ø¨Ø³ØªÙ‡ Û±Û°Û° Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 19, name: "Ø¹Ø³Ù„ Ø¢ÙˆÛŒØ´Ù†", category: "honey", price: 380000, rating: 5, image: "ğŸŒ°", description: "Ø¹Ø³Ù„ Ø¢ÙˆÛŒØ´Ù† Ø·Ø¨ÛŒØ¹ÛŒ - Ø´ÛŒØ´Ù‡ Û± Ú©ÛŒÙ„ÙˆÛŒÛŒ", new: true },
            { id: 20, name: "Ú†Ø§ÛŒ Ø§ÙˆÙ„Ø§Ù†Ú¯", category: "tea", price: 160000, rating: 5, image: "ğŸƒ", description: "Ú†Ø§ÛŒ Ø§ÙˆÙ„Ø§Ù†Ú¯ Ù…Ù…ØªØ§Ø² - Ø¨Ø³ØªÙ‡ Û²Û°Û° Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 21, name: "Ø²Ø¹ÙØ±Ø§Ù† Ø¯Ø±Ø¬Ù‡ Ø¯Ùˆ", category: "spices", price: 200000, rating: 4, image: "ğŸŒ¿", description: "Ø²Ø¹ÙØ±Ø§Ù† Ø¯Ø±Ø¬Ù‡ Ø¯Ùˆ - Ø¨Ø³ØªÙ‡ Ûµ Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 22, name: "Ø±ÙˆØºÙ† Ø¨Ø§Ø¯Ø§Ù…", category: "oils", price: 250000, rating: 5, image: "ğŸ«’", description: "Ø±ÙˆØºÙ† Ø¨Ø§Ø¯Ø§Ù… Ø´ÛŒØ±ÛŒÙ† - Ø¨Ø·Ø±ÛŒ Û²ÛµÛ° Ù…ÛŒÙ„ÛŒ", new: true },
            { id: 23, name: "Ú¯Ù„ Ø®ØªÙ…ÛŒ", category: "herbs", price: 72000, rating: 4, image: "ğŸŒº", description: "Ú¯Ù„ Ø®ØªÙ…ÛŒ Ø®Ø´Ú© - Ø¨Ø³ØªÙ‡ Û±Û°Û° Ú¯Ø±Ù…ÛŒ", new: false },
            { id: 24, name: "Ú†Ø§ÛŒ Ø³ÙÛŒØ¯", category: "tea", price: 180000, rating: 5, image: "ğŸƒ", description: "Ú†Ø§ÛŒ Ø³ÙÛŒØ¯ Ù…Ù…ØªØ§Ø² - Ø¨Ø³ØªÙ‡ Û±Û°Û° Ú¯Ø±Ù…ÛŒ", new: true }
        ];

        let currentProducts = [...allProducts];
        let currentPage = 1;
        const productsPerPage = 9;

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Check for search query in URL
            const urlParams = new URLSearchParams(window.location.search);
            const searchQuery = urlParams.get('search');
            if (searchQuery) {
                document.getElementById('search-input').value = searchQuery;
                performSearch();
            } else {
                displayProducts();
            }
        });

        // Display Products
        function displayProducts() {
            const grid = document.getElementById('products-grid');
            const startIndex = (currentPage - 1) * productsPerPage;
            const endIndex = startIndex + productsPerPage;
            const productsToShow = currentProducts.slice(startIndex, endIndex);

            grid.innerHTML = productsToShow.map(product => `
                <div class="archive-product-card">
                    ${product.new ? '<span class="product-badge">Ø¬Ø¯ÛŒØ¯</span>' : ''}
                    <div class="archive-product-image">${product.image}</div>
                    <div class="archive-product-info">
                        <h3 class="archive-product-name">${product.name}</h3>
                        <p class="archive-product-desc">${product.description}</p>
                        <div class="archive-product-rating">
                            ${'â­'.repeat(product.rating)} ${product.rating}.Û°
                        </div>
                        <div class="archive-product-price">${formatPrice(product.price)} ØªÙˆÙ…Ø§Ù†</div>
                        <a href="product-details.html" class="archive-product-btn">Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¬Ø²Ø¦ÛŒØ§Øª</a>
                    </div>
                </div>
            `).join('');

            updateResultsCount();
            displayPagination();
        }

        // Format Price
        function formatPrice(price) {
            return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

        // Update Results Count
        function updateResultsCount() {
            const count = currentProducts.length;
            document.getElementById('results-count').textContent = `${count} Ù…Ø­ØµÙˆÙ„ ÛŒØ§ÙØª Ø´Ø¯`;
        }

        // Display Pagination
        function displayPagination() {
            const totalPages = Math.ceil(currentProducts.length / productsPerPage);
            const pagination = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagination.innerHTML = '';
                return;
            }

            let html = '';
            
            // Previous Button
            if (currentPage > 1) {
                html += `<button class="pagination-btn" onclick="goToPage(${currentPage - 1})">â® Ù‚Ø¨Ù„ÛŒ</button>`;
            }

            // Page Numbers
            for (let i = 1; i <= totalPages; i++) {
                if (i === 1 || i === totalPages || (i >= currentPage - 1 && i <= currentPage + 1)) {
                    html += `<button class="pagination-btn ${i === currentPage ? 'active' : ''}" onclick="goToPage(${i})">${i}</button>`;
                } else if (i === currentPage - 2 || i === currentPage + 2) {
                    html += `<span class="pagination-dots">...</span>`;
                }
            }

            // Next Button
            if (currentPage < totalPages) {
                html += `<button class="pagination-btn" onclick="goToPage(${currentPage + 1})">Ø¨Ø¹Ø¯ÛŒ â¯</button>`;
            }

            pagination.innerHTML = html;
        }

        // Go to Page
        function goToPage(page) {
            currentPage = page;
            displayProducts();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Filter Products
        function filterProducts() {
            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            const checkedCategories = Array.from(document.querySelectorAll('.filter-checkbox input[type="checkbox"]:checked')).map(cb => cb.value);
            const minPrice = parseInt(document.getElementById('min-price').value) || 0;
            const maxPrice = parseInt(document.getElementById('max-price').value) || Infinity;
            const selectedRating = document.querySelector('input[name="rating"]:checked').value;

            currentProducts = allProducts.filter(product => {
                // Search filter
                const matchesSearch = !searchTerm || 
                    product.name.toLowerCase().includes(searchTerm) ||
                    product.description.toLowerCase().includes(searchTerm);

                // Category filter
                const matchesCategory = checkedCategories.includes('all') || checkedCategories.includes(product.category);

                // Price filter
                const matchesPrice = product.price >= minPrice && product.price <= maxPrice;

                // Rating filter
                const matchesRating = selectedRating === 'all' || product.rating >= parseInt(selectedRating);

                return matchesSearch && matchesCategory && matchesPrice && matchesRating;
            });

            currentPage = 1;
            displayProducts();
        }

        // Perform Search
        function performSearch() {
            filterProducts();
        }

        // Sort Products
        function sortProducts() {
            const sortValue = document.getElementById('sort-select').value;

            switch(sortValue) {
                case 'price-low':
                    currentProducts.sort((a, b) => a.price - b.price);
                    break;
                case 'price-high':
                    currentProducts.sort((a, b) => b.price - a.price);
                    break;
                case 'name':
                    currentProducts.sort((a, b) => a.name.localeCompare(b.name));
                    break;
                case 'newest':
                    currentProducts.sort((a, b) => (b.new ? 1 : 0) - (a.new ? 1 : 0));
                    break;
                case 'popular':
                    currentProducts.sort((a, b) => b.rating - a.rating);
                    break;
                default:
                    currentProducts = [...allProducts];
                    filterProducts();
                    return;
            }

            currentPage = 1;
            displayProducts();
        }

        // Reset Filters
        function resetFilters() {
            document.getElementById('search-input').value = '';
            document.querySelectorAll('.filter-checkbox input[type="checkbox"]').forEach(cb => {
                if (cb.value === 'all') cb.checked = true;
                else cb.checked = false;
            });
            document.getElementById('min-price').value = '';
            document.getElementById('max-price').value = '';
            document.querySelector('input[name="rating"][value="all"]').checked = true;
            document.getElementById('sort-select').value = 'default';
            
            currentProducts = [...allProducts];
            currentPage = 1;
            displayProducts();
        }

        // Enter key search
        document.getElementById('search-input').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });
    </script>
</body>
</html>

